digraph G {
    // General Layout
    fontname = "Bitstream Vera Sans"
    fontsize = 8

    node [
        fontname = "Bitstream Vera Sans"
        fontsize = 8
        shape = "record"
    ]

    edge [
        fontname = "Bitstream Vera Sans"
        fontsize = 8
        arrowhead = "onormal"
    ]

    // Classes
    RenderThread [
        label = "{RenderThread|- window : sf::Window\l- clock : sf::Clock\l|+ start(env : Environment&)\l}"
    ]

    Main [
        label = "{Main|- event : sf::Event\l- env : Environment\l- renderThread : RenderThread\l|}"
    ]

    Environment [
        label = "{Environment|+ obstacles : std::deque\<Obstacle\>\l+ items : std::deque\<Item\>\l+ player : Player\l+ points : Integer\l+ activeItem : std::optional\<Item\>\l+ score : Integer\l+ scrollSpeed : double\l+ scrollSpeedMultiplexer : double\l|+ update()\l}"
    ]

    GameItem [
        label = "{GameItem|- boundingRect : Rectangle<double>\l- speed : Vector\<2, double\>\l|+ getPosition() : Vector\<2, double\>\l+ getDimensions() : Vector\<2, double\>\l+ getBoundingRect() : Rectangle\<double\>\l+ draw()\l+ move(deltaT: double)\l}"
    ]
    Obstacle [
        label = "{Obstacle|- heightScale : double\l- side : ObstacleSide\l|+ setHeightScale(s: double)\l+ getHeightScale(s: double)\l+ resetScale()\l+ getSide(): ObstacleSide\l}"
    ]       

    ObstacleSide [
        label = "{\<\<enumeration\>\>\n ObstacleSide|+ TOP\l+ BOTTOM\l}"
    ]

    Item [
        label = "{Item|+ time : double\l| + apply(player : Player)\l}"
    ]

    ItemTypeUnverwundbar [
        label = "{Unverwundbar||+ apply(player : Player)\l}"
    ]
    ItemTypeTroll [
        label = "{Troll||+ apply(player : Player)\l}"
    ]
    ItemTypeDoppeltePunkte [
        label = "{DoppeltePunkte||+ apply(player : Player)\l}"
    ]
    ItemTypeTurboMode [
        label = "{TurboMode||+ apply(player : Player)\l}"
    ]

    Player [
        label = "{Player|+ acceleration : double\l|+ addAcceleration(acc: double)\l+ updateSpeed(deltaT : double)\l}"
    ]
    
    Rectangle [
        label = "{template\<typename T\>\nRectangle|+ anchor : Vector\<2, T\>\l+ size: Vector\<2, T\>\l|+ contains(Vector\<2,T\> point) : boolean\l+ intersects(Rectangle\<T\> rect2) : boolean\l}"
    ]

    Vector [
        label = "{template\<int D, typename T\>\nVector|- c : std::array\<T,D\>\l|+ operator[](int d) : T\l+ operator+(Vector\<D,T\> v2)\l+ operator-(Vector\<D,T\> v2)\l+ operator*(T s)\l+ area() : T\l}"
    ]

    // Connections
    GameItem -> Player
    GameItem -> Obstacle
    GameItem -> Item
    Item -> ItemTypeUnverwundbar
    Item -> ItemTypeTurboMode
    Item -> ItemTypeTroll
    Item -> ItemTypeDoppeltePunkte

    Vector -> Rectangle [
        arrowhead = "diamond"

        headlabel = "0..*"
        taillabel = "2"
    ]

    Rectangle -> GameItem[
        arrowhead = "diamond"

        headlabel = "0..*"
        taillabel = "1"
    ] 

    Obstacle -> Environment[
        arrowhead = "diamond"

        headlabel = "0..*"
        taillabel = "1"
    ] 
    Item -> Environment[
        arrowhead = "diamond"

        headlabel = "0..*"
        taillabel = "1"
    ] 

    Player -> Environment[
        arrowhead = "diamond"

        headlabel = "1"
        taillabel = "1"
    ] 

    RenderThread -> Environment [
        arrowhead = "diamond"

        headlabel = "1"
        taillabel = "1"
    ] 

    ObstacleSide -> Obstacle[
        arrowhead = "diamond"

        headlabel = "0..*"
        taillabel = "1"
    ] 

    Environment -> Main [
        arrowhead = "diamond"

        headlabel = "1"
        taillabel = "1"
    ] 


    // Notes
    Modell [
        shape = "note"
        label = "Modell"
    ]
    View [
        shape = "note"
        label = "View"
    ]
    Controller [
        shape = "note"
        label = "Controller"
    ]

    View -> RenderThread [
        arrowhead = "vee"
    ]
    Controller -> Environment [
        arrowhead = "vee"
    ]
    Controller -> Main [
        arrowhead = "vee"
    ]
    Modell -> GameItem [
        arrowhead = "vee"
    ]
    Modell -> Obstacle [
        arrowhead = "vee"
    ]
    Modell -> Item [
        arrowhead = "vee"
    ]
    Modell -> Player [
        arrowhead = "vee"
    ]
}    
